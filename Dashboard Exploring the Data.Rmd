---
title: "International Tourism Dashboard"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(janitor)
library(DT)
library(forcats)
library(highcharter)
library(scales)

source('data_viz_functions.R')

df <- read_csv('data/International_Tourism_Dataset_Long.csv') %>%
  clean_names()

df_short <- read_csv('data/International_Tourism_Dataset_Short.csv')
```

# Inbound Tourists 

Column {.sidebar data-width=250}
-------------------------------------

BLAH

Column {.tabset .tabset-fade data-width=500}
------------------------------------- 

### Inbound Tourists 2020

```{r}
chloropleth_map(df,
                'International tourism, number of arrivals',
                2020,
                'Which countries recieve the most Tourist',
                'Number of Arriving Tourists')
```

### Inbound Tourists 2019

```{r}
chloropleth_map(df,
                'International tourism, number of arrivals',
                2019,
                'Which countries recieve the most Tourist',
                'Number of Arriving Tourists')
```

### Inbound Tourists 2018

```{r}
chloropleth_map(df,
                'International tourism, number of arrivals',
                2018,
                'Which countries recieve the most Tourist',
                'Number of Arriving Tourists')
```


Column {.tabset .tabset-fade data-width=250}
-----------------------------------------------------------------------

### 2019 Leaders

```{r}
pc_bar_graph(df,
             'International tourism, number of arrivals',
             'value',
             'desc')
```

### Aescending

```{r}
pc_bar_graph(df,
             'International tourism, number of arrivals',
             'percent_change',
             'aesc')
```

### Descending

```{r}
pc_bar_graph(df,
             'International tourism, number of arrivals',
             'percent_change',
             'desc')
```

# Outbound Tourists

Column {.sidebar data-width=250}
-------------------------------------

BLAH

Column {.tabset .tabset-fade data-width=500}
--------------------------------------

### Outbound Tourists in 2020

```{r}
chloropleth_map(df,
                'International tourism, number of departures',
                2020,
                'Which countries depart the most for tourism',
                'Number of Departing Tourists')
```

### Outbound Tourists in 2019

```{r}
chloropleth_map(df,
                'International tourism, number of departures',
                2019,
                'Which countries depart the most for tourism',
                'Number of Departing Tourists')
```

### Outbound Tourists in 2018

```{r}
chloropleth_map(df,
                'International tourism, number of departures',
                2018,
                'Which countries depart the most for tourism',
                'Number of Departing Tourists')
```

Column {.tabset .tabset-fade data-width=250}
-----------------------------------------------------------------------

### 2019 Leaders

```{r}
pc_bar_graph(df,
             'International tourism, number of departures',
             'value',
             'desc')
```

### Aescending

```{r}
pc_bar_graph(df,
             'International tourism, number of departures',
             'percent_change',
             'aesc')
```

### Descending

```{r}
pc_bar_graph(df,
             'International tourism, number of departures',
             'percent_change',
             'desc')
```


# Tourism GDP

Column {.sidebar data-width=250}
-------------------------------------

BLAH 3

Column {data-width=350}
-------------------------------------

### 1

```{r}
  df %>%
    filter(indicator == 'International tourism, receipts (current US$)',
         year %in% c(2019,2020)) %>%
  group_by(year) %>%
  slice_max(value, n = 10) %>%
  hchart(
    'bar',
    hcaes(x = country,
          y = value,
          group = year),
    pointWidth = 10,
    groupPadding = 1,
    pointPadding = 2
    ) %>%
  hc_colors(c("#0073C2FF", "#EFC000FF"))
        
```

Column {data-width=350}
-------------------------------------

### 2

```{r}
 df %>%
    filter(indicator == 'International tourism, receipts (current US$)',
         year %in% c(2019,2020)) %>%
  group_by(year) %>%
  slice_max(value, n = 10) %>%
  hchart(
    'bar',
    hcaes(x = country,
          y = value,
          group = year),
    pointWidth = 10,
    groupPadding = 1,
    pointPadding = 2
    ) %>%
  hc_colors(c("#0073C2FF", "#EFC000FF"))
```

# Explore the data

Column {.sidebar data-width=250}
-------------------------------------

Blah 4

Column {.tabset .tabset-fade data-width=375}
-------------------------------------

### Inbound Tourists

```{r}
display_table(df_short, 
              'International tourism, number of arrivals',
              'Blah Blah Blah World Bank Moment')
```

### Outbound Tourists

```{r}
display_table(df_short, 'International tourism, number of departures',
              'Blah Blah Blah World Bank Moment')
```

### GDP

```{r}
display_table(df_short, 'International tourism, receipts (current US$)',
              'Blah Blah Blah World Bank Moment')
```

# References

https://www.unwto.org/tourism-statistics/key-tourism-statistics

https://datacatalog.worldbank.org/

# About Me

We the best Music!